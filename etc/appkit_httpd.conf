<VirtualHost @server_listen@>

	ServerName @server_name@
	
	DocumentRoot @server_root@
	
	DirectoryIndex index.php
	
	<Directory @server_root@>
        Options -MultiViews -Indexes +FollowSymLinks
        AllowOverride none
        Order allow,deny
        Allow from all
        
        <IfModule mod_rewrite.c>
	        RewriteEngine On
			RewriteBase /
			
			# If the requested URL does not exist (it's likely an agavi route),
			# pass it as path info to index.php, the Agavi dispatch script.
			RewriteRule ^$ index.php?/ [QSA,L]
			RewriteCond %{REQUEST_FILENAME} !-f
			RewriteCond %{REQUEST_FILENAME} !-d
			RewriteRule (.*) index.php?/$1 [QSA,L]
		</IfModule>
		
    </Directory>
    
    # deny something!
    <Location />
    	Options -MultiViews -Indexes +FollowSymLinks
        Order allow,deny
        Allow from all
    </Location>
    
    # JS frameworks
    Alias /js/yui			@appkit_target@/lib/yui
    Alias /js/swfobject		@appkit_target@/lib/swfobject
    Alias /js/mootools		@appkit_target@/lib/mootools
    Alias /js/jquery		@appkit_target@/lib/jquery
    Alias /js/appkit		@appkit_target@/lib/appkit/js
    Alias /js/gc-prettify	@appkit_target@/lib/gc-prettify
    Alias /js/firebug		@appkit_target@/lib/firebug
    
    # Flash frameworks
    Alias /flash/flexchart	@appkit_target@/lib/flexchart
	
	<IfDefine APACHE2>
		AcceptPathInfo On
	</IfDefine>

	#<IfModule mod_auth_basic.c>
	#	AuthType Basic
	#	AuthName "NETWAYS AppKit Basic Auth"
	#	AuthUserFile /tmp/htusers
	#	require valid-user
	#</IfModule>

</VirtualHost>