Install icinga-web standalone from scratch

1) Prerequisits

You need a running dbms and php (with PEAR and CLI) environment w/ icinga and ido (ido2db).
The Icinga API is mandatory being installed too. Please check doc/INSTALL for
a general install guide.

If there's something missing on your system, please refer to docs.icinga.org.

2) The place and dependencies

Follow the instructions generalized in doc/INSTALL

3) Php dependencies

Test the php dependencies. Go to the etc directory and call the phing test script:

	../bin/phing testdeps

or in the main directory

	make testdeps
	
All required tests should pass succefully. Maybe you have to alter the php.ini for the
framework.

In case of the gpc_magic_quote setting, you have to disable both entries (apache and cli
php.ini)

4) Database installation.

4.1) Manual creation

Create a db user for your likings. The user must have default data privileges like
SELECT, UPDATE, INSERT, DELETE.

SQL> GRANT USAGE ON *.* TO 'icinga_web'@'localhost' IDENTIFIED BY 'icinga_web';
SQL> GRANT SELECT, INSERT, UPDATE, DELETE, CREATE, DROP, ALTER, INDEX ON icinga_web.* TO 'icinga_web'@'localhost';
SQL> FLUSH PRIVILEGES;

Then run make db-doc2sql after running configure to get the plain SQL files.

Import the generated schemes into your database.

4.2) Auto creation

Create a database user with scheme and data privileges (CREATE, DROP, ALTER, INDEX). Go to the
etc dir and copy the build.properties to a save place (e.g. /tmp). Alter the database
settings within the properties file. You can also set you database root user to create
your scheme. Call the phing deploy task:

	../bin/phing -Dproperties=/path/to/your/build.properties db-initialize

or short through the makefile

	make db-initialize

You have to manually create a database user to access your database. Add the default data
privileges that icinga-web can work with the newly created database.

5) Icinga-web settings

Alter the configfiles:

app/config/databases.xml
	Change the credentials for your database connection

app/modules/Web/config/module.xml
	Go to the appkit.factories section and change the path and the credentials for the icinga-api

6) Apache settings

This should be prepared:

 - mod_rewrite enabled
 - Any htaccess enabled alias setting:
 
 Alias /icinga-web /path/to/pub
 <directory /path/to/pub>
 	AllowOverride All
 </directory>

Go to the pub directory and changes the .htaccess file. You have to alter the RewriteBase direction
to suite your needs.

7) Use it!

Go to the webpath and try if the webinterface starts without exceptions (database connections web
and api). You can login with user 'root' and password 'password'


More information on http://docs.icinga.org ...

