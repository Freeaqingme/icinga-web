<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<template>
    
    <!-- 
    	Meta description of the templates, that anybody
    	knows what the template is doing
    -->
    <meta>
        <parameter name="name">The template name</parameter>
        <parameter name="description">A test xml stub template</parameter>
        <parameter name="author">Marius Hein</parameter>
    </meta>
    
    <!-- 
    	Options for the template. Change layout and view style to fit the type you
    	want to display
    -->
    <option>
        <parameter name="mode">default</parameter>
        <parameter name="layout">IcingaTemplateAjaxGridLayout</parameter> 
    </option>
    
    <!-- 
    	What data to display? Define icinga data targets and countfields
    -->
    <datasource>
        <parameter name="target">IcingaApi::TARGET_SERVICE</parameter>
        
        <parameter name="countfields">
        	<parameter>SERVICE_ID</parameter>
        </parameter>
    </datasource>
    
    <!--
    	Field decleration: What to display and how
    -->
    <fields>
    
        <field name="host_name">
            <datasource>
            	<parameter name="field">HOST_NAME</parameter>
            </datasource>
            
            <display>
                <parameter name="visible">true</parameter>
                <parameter name="label">Host</parameter>
                <!--
                <parameter name="userFunc">
                	<parameter name="class">IcingaTemplateDisplayTest</parameter>
                	<parameter name="method">Test</parameter>
					<parameter name="arguments">
						<parameter name="val">Test</parameter>
					</parameter>
                </parameter>
                -->
            </display>
            
            <filter>
                <parameter name="enabled">true</parameter>    
            </filter>
            
            <order>
                <parameter name="enabled">true</parameter>
                <parameter name="default">true</parameter>
                <!--  <parameter name="field">A_NEW_FIELD_TO_SORT</parameter> -->
            </order>
        </field>
        
        <field name="service_name">
            <datasource>
            	<parameter name="field">SERVICE_NAME</parameter>
            </datasource>
            
            <display>
                <parameter name="visible">true</parameter>
                <parameter name="label">Service</parameter>
                <parameter name="id">true</parameter>
            </display>
            
            <filter>
                <parameter name="enabled">true</parameter>    
            </filter>
            
            <order>
                <parameter name="enabled">true</parameter>
                <parameter name="default">true</parameter>
                <!--  <parameter name="field">A_NEW_FIELD_TO_SORT</parameter> -->
            </order>
        </field>
        
        
        <field name="service_status">
        	<datasource>
        		<parameter name="field">SERVICE_CURRENT_STATE</parameter>
        	</datasource>
        	
            <display>
                <parameter name="visible">true</parameter>
                <parameter name="label">Status</parameter>
                
				<parameter name="userFunc">
                	<parameter name="class">IcingaTemplateDisplayMonitoring</parameter>
                	<parameter name="method">serviceStatus</parameter>
					
                </parameter>
                
            </display>
        	
            <filter>
                <parameter name="enabled">true</parameter>    
            </filter>
            
            <order>
                <parameter name="enabled">true</parameter>
                <parameter name="default">true</parameter>
            </order>
        </field>
        
        
    </fields>
    
</template>