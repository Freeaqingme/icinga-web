<?php

/**
 * This class has been auto-generated by the Doctrine ORM Framework
 */
abstract class BaseNsmUser extends AppKitDoctrineRecord
{
	public function setTableDefinition()
	{
		$this->setTableName('nsm_user');
		$this->hasColumn('user_id', 'integer', 4, array('type' => 'integer', 'length' => 4, 'primary' => true, 'autoincrement' => true));
		$this->hasColumn('user_account', 'integer', 4, array('type' => 'integer', 'length' => 4, 'notnull' => true));
		$this->hasColumn('user_name', 'string', 18, array('type' => 'string', 'length' => 18, 'notnull' => true));
		$this->hasColumn('user_lastname', 'string', 40, array('type' => 'string', 'length' => 40, 'notnull' => true));
		$this->hasColumn('user_firstname', 'string', 40, array('type' => 'string', 'length' => 40, 'notnull' => true));
		$this->hasColumn('user_password', 'string', 64, array('type' => 'string', 'length' => 25, 'notnull' => true));
		$this->hasColumn('user_salt', 'string', 64, array('type' => 'string', 'length' => 40, 'notnull' => true));
		$this->hasColumn('user_email', 'string', 40, array('type' => 'string', 'length' => 40, 'notnull' => true));
		$this->hasColumn('user_disabled', 'boolean', 1, array('type' => 'integer', 'length' => 1, 'default' => true, 'notnull' => true));
		$this->hasColumn('user_created', 'timestamp', null, array('type' => 'timestamp', 'default' => 'CURRENT_TIMESTAMP', 'notnull' => true));
		$this->hasColumn('user_modified', 'timestamp', null, array('type' => 'timestamp', 'default' => '0000-00-00 00:00:00', 'notnull' => true));
	}

	public function setUp()
	{
		$this->hasMany('NgReport', array('local' => 'user_id',
                                         'foreign' => 'report_user_id'));

		$this->hasMany('NgUserDashboard', array('local' => 'user_id',
                                                'foreign' => 'usda_user_id'));

		$this->hasMany('NgpDashboard', array('local' => 'user_id',
                                             'foreign' => 'dashboard_user_id'));

		$this->hasMany('NgpPanel', array('local' => 'user_id',
                                         'foreign' => 'panel_user_id'));

		$this->hasMany('NsmUserPreference', array('local' => 'user_id',
                                                  'foreign' => 'upref_user_id'));

		$this->hasMany('NsmUserRole', array('local' => 'user_id',
                                            'foreign' => 'usro_user_id'));
	}

}