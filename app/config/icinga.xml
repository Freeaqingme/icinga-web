<?xml version="1.0" encoding="UTF-8"?>

<settings prefix="de.icinga." xmlns="http://agavi.org/agavi/1.0/config">
	
	<setting name="appkit.php_settings">
		<parameter name="session.gc_probability">3</parameter>
		<parameter name="session.gc_divisor">100</parameter>
		<parameter name="session.gc_maxlifetime">86400</parameter>
	</setting>
	
	<!-- This does not work if the config cache is recreated! (DON'T USE THIS, COMPAT STATE) -->
	<!-- <setting name="appkit.lib_path">%core.root_dir%/lib</setting> -->
	
	<setting name="appkit.autoloader.paths">
		<parameter>%core.root_dir%/lib/appkit</parameter>
		<parameter>%core.module_dir%/Web/lib/icinga</parameter>
	</setting>
	
	<setting name="appkit.autoloader.prefixes">
		<parameter>AppKit</parameter>
		<parameter>Icinga</parameter>
	</setting>
	
	<!-- Relative to AppKit::bootstrap, otherwise throws errors! -->
	<setting name="appkit.doctrine_path">%core.root_dir%/lib/doctrine/lib</setting>
	<setting name="appkit.doctrine_model_path">%core.root_dir%/lib/appkit/database/models</setting>
	
	<setting name="appkit.image_path">%core.root_dir%/pub/images</setting>

	<setting name="appkit.menu_extender">
		<parameter>IcingaMenuExtender</parameter>
	</setting>

	<setting name="appkit.custom_events">
	
		<!-- This is our root menu -->
		<parameter name="AppKitMenuEventDistributor">
			<parameter name="event">appkit.menu</parameter>
			<parameter name="class">AppKitMenuCreator</parameter>
		</parameter>
	
		<!-- Providing ExtJS stateful information -->
		<parameter name="AppKitExtApplicationStateData">
			<parameter name="event">appkit.headerdata.publish</parameter>
			<parameter name="class">AppKitExtStateProviderData</parameter>
			
			<!-- 
				constructor argument:
				we need the route name where the browser can load our data
			-->
			<parameter name="parameter">
				<parameter name="route">appkit.ext.applicationState</parameter>
			</parameter>
		</parameter>
	</setting>

	<setting name="appkit.include_styles">		
	
		<!-- ICINGAWireFrame css -->
		<parameter>/styles/WireFrameDefault.css</parameter>
		<parameter>/styles/WireFrameStructural.css</parameter>
	
		<!-- YUI css -->
		<parameter>/js/yui/build/fonts/fonts-min.css</parameter>
		<parameter>/js/yui/build/menu/assets/skins/sam/menu.css</parameter>
		<parameter>/js/yui/build/tabview/assets/skins/sam/tabview.css</parameter>
		<!-- <parameter>/js/yui/build/autocomplete/assets/skins/sam/autocomplete.css</parameter> -->
		<parameter>/js/yui/build/container/assets/skins/sam/container.css</parameter>
		<parameter>/js/yui/build/button/assets/skins/sam/button.css</parameter>
		<!-- <parameter>/js/yui/build/resize/assets/skins/sam/resize.css</parameter> -->
		<!-- <parameter>/js/yui/build/calendar/assets/skins/sam/calendar.css</parameter> -->
		<parameter>/styles/WireFrameYUI.css</parameter>
		
		<!-- ExtJS -->
		<parameter>/js/ext3/resources/css/ext-all-notheme.css</parameter>
		
		
		<!-- Misc css -->
		<!-- <parameter>/js/gc-prettify/prettify.css</parameter> -->
		
		<!-- ICINGA -->
		<parameter>/styles/silk-icons.css</parameter>
		<parameter>/styles/extjs/ext-all.css</parameter>
		<parameter>/styles/extjs/ux-all.css</parameter>
		<parameter>/styles/Icinga.css</parameter>
		
		
		
	</setting>
	
	<setting name="appkit.meta_tags">
		<parameter name="author">(c) 2009 Icinga developer team - www.icinga.org</parameter>
		<parameter name="robots">noindex</parameter>
	</setting>
	
	<setting name="appkit.include_javascript">
	
		<!-- YUI -->
		<parameter>%core.root_dir%/lib/yui/build/yahoo/yahoo-min.js</parameter>
		<parameter>%core.root_dir%/lib/yui/build/event/event-min.js</parameter>
		<parameter>%core.root_dir%/lib/yui/build/yahoo-dom-event/yahoo-dom-event.js</parameter>
		<parameter>%core.root_dir%/lib/yui/build/container/container-min.js</parameter>
		<!-- <parameter>%core.root_dir%/lib/yui/build/datasource/datasource-min.js</parameter> -->
		<parameter>%core.root_dir%/lib/yui/build/get/get-min.js</parameter>
		<parameter>%core.root_dir%/lib/yui/build/element/element-beta-min.js</parameter>
		<!-- <parameter>%core.root_dir%/lib/yui/build/connection/connection-min.js</parameter> -->
		<!-- <parameter>%core.root_dir%/lib/yui/build/json/json-min.js</parameter> -->
		<parameter>%core.root_dir%/lib/yui/build/animation/animation-min.js</parameter>
		<!-- <parameter>%core.root_dir%/lib/yui/build/autocomplete/autocomplete-min.js</parameter> -->
		<parameter>%core.root_dir%/lib/yui/build/menu/menu-min.js</parameter>
		<!-- <parameter>%core.root_dir%/lib/yui/build/tabview/tabview-min.js</parameter> -->
		<!-- <parameter>%core.root_dir%/lib/yui/build/dragdrop/dragdrop-min.js</parameter> -->
		<parameter>%core.root_dir%/lib/yui/build/button/button-min.js</parameter>
		<!-- <parameter>%core.root_dir%/lib/yui/build/calendar/calendar-min.js</parameter> -->
		<!-- <parameter>%core.root_dir%/lib/yui/build/resize/resize-min.js</parameter> -->
		<!-- <parameter>%core.root_dir%/lib/yui/build/cookie/cookie-min.js</parameter> -->
		
		<!-- JQuery -->
		<!-- <parameter>%core.root_dir%/lib/jquery/jquery-1.3.1.min.js</parameter> -->
		
		<!-- mootools -->
		<!-- <parameter>%core.root_dir%/lib/mootools/mootools-1.2.1-core-yc.js</parameter> -->	
		
		<!-- SWF Object -->
		<!-- <parameter>%core.root_dir%/lib/swfobject/swfobject.js</parameter> -->
		
		<!-- Google Code Prettify -->
		<!-- <parameter>%core.root_dir%/lib/gc-prettify/prettify.js</parameter> -->
		
		<!-- Firebug lite for debug purposes -->
		<!-- <parameter>%core.root_dir%/lib/firebug/firebug-lite-compressed.js</parameter> -->
		
		<!-- ExtJS -->
		<parameter>%core.root_dir%/lib/ext3/adapter/ext/ext-base.js</parameter>
		<parameter>%core.root_dir%/lib/ext3/ext-all-debug.js</parameter>
		<parameter>%core.root_dir%/lib/ext3/examples/ux/Portal.js</parameter>
		<parameter>%core.root_dir%/lib/ext3/examples/ux/PortalColumn.js</parameter>
		<parameter>%core.root_dir%/lib/ext3/examples/ux/Portlet.js</parameter>
		<parameter>%core.root_dir%/lib/ext3/examples/ux/DataView-more.js</parameter>
		<parameter>%core.root_dir%/lib/ext3/examples/ux/GroupTabPanel.js</parameter>
		<parameter>%core.root_dir%/lib/ext3/examples/ux/GroupTab.js</parameter>
		<parameter>%core.root_dir%/lib/ext3/examples/ux/SelectBox.js</parameter>
		<!-- <parameter>%core.root_dir%/lib/ext3/examples/ux/RowLayout.js</parameter> -->
		<!-- <parameter>%core.root_dir%/lib/ext2/examples/ux/SlidingPager.js</parameter>
		<parameter>%core.root_dir%/lib/ext2/examples/ux/SliderTip.js</parameter> -->
		
		<!--AppKit JS -->
		<parameter>%core.root_dir%/lib/appkit/js/AppKit.js</parameter> 
		<parameter>%core.root_dir%/lib/appkit/js/dump.js</parameter>
		<parameter>%core.root_dir%/lib/appkit/js/ext/SessionProvider.js</parameter>
		<parameter>%core.root_dir%/lib/appkit/js/ext/ExtJs.js</parameter>
		<parameter>%core.root_dir%/lib/appkit/js/ext/ScriptDynaLoader.js</parameter>
		<parameter>%core.root_dir%/lib/appkit/js/ext/FancyTextField.js</parameter>
		<parameter>%core.root_dir%/lib/appkit/js/ext/FilterHandler.js</parameter>
		<parameter>%core.root_dir%/lib/appkit/js/ext/grid/ConfigurableColumnRenderer.js</parameter>
	</setting>

	<!-- This scripts are included dynamically by modules if needed -->
	<setting name="appkit.include_dynamic_javascript">
		<parameter name="IcingaColumnRenderer">%core.module_dir%/Cronks/templates/System/ViewProc/js/IcingaColumnRenderer.js</parameter>
	</setting>

	<setting name="appkit.pager.default_items">20</setting>

	<setting name="appkit.factories">
		<!-- GLOBAL MESSAGE QUEUE -->
		<parameter name="MessageQueue">
			<parameter name="class">AppKitMessageQueue</parameter>
		</parameter>
	
		<!-- GLOBAL AUTH PROVIDER -->
		<parameter name="AuthProvider">
		<!-- Authenticate with Doctrine -->
			<parameter name="class">AppKitAuthProviderDatabase</parameter>
		 
		 <!-- Authentificate against ldap
		 	<parameter name="class">AppKitAuthProviderLdap</parameter>
		 	<parameter name="ldap_dsn">ldap://int.icinga.de/</parameter>
		 	<parameter name="ldap_basedn">DC=int,DC=icinga,DC=de</parameter>
		 	<parameter name="ldap_domain">INT.ICINGA.DE</parameter>
		 	<parameter name="ldap_binddn">USER@INT.ICINGA.DE</parameter>
		 	<parameter name="ldap_bindpw">password</parameter>
		 	<parameter name="ldap_type">CONST::AppKitAuthProviderLdap::TYPE_MSAD</parameter>
		 	<parameter name="ldap_filter_user"><![CDATA[(&(SAMAccountName=__USERNAME__))]]></parameter>
		 -->
		 
		 <!-- Authentificate with http basic auth
		 	<parameter name="class">AppKitAuthProviderHttpBasic</parameter>
		 	<parameter name="field">REMOTE_USER</parameter>
		  -->
		</parameter>
		
		<parameter name="IcingaData">
			<parameter name="class">IcingaData</parameter>
			<parameter name="api_file">%core.root_dir%/lib/icinga-api/IcingaApi.php</parameter>
			<parameter name="api_type">IcingaApi::CONNECTION_IDO</parameter>
			
			<parameter name="config_type">mysql</parameter>
			<parameter name="config_host">127.0.0.1</parameter>

			 			
			<parameter name="config_port">3307</parameter>
			<parameter name="config_database">ndo_demo</parameter>
			
			<!-- 
			<parameter name="config_port">3306</parameter>
			<parameter name="config_database">icinga</parameter>
			-->
			<parameter name="config_user">icinga</parameter>
			<parameter name="config_password">icinga</parameter>
			
			
			<parameter name="config_table_prefix">nagios_</parameter>
			<!-- <parameter name="config_table_prefix">icinga_</parameter> -->
		</parameter>
	</setting>
	
	<!-- Placeholder for doctrine autocomplete configurations -->
	<setting name="appkit.ajax.ac.prefix">de.icinga.appkit.ajax.ac.types</setting>
	<setting name="appkit.ajax.ac.types">
	
	</setting>
	
	<!-- AJAX FILESOURCE -->
	<setting name="appkit.ajax.fs.prefix">de.icinga.appkit.ajax.fs.sources</setting>
	
	<setting name="web.xml_template_folder">%core.root_dir%/res/xml</setting>
	
	<!-- Our cronks config goes here -->
	<xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="cronks.xml"/>
</settings>