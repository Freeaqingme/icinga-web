<?xml version="1.0" encoding="UTF-8"?>
<settings prefix="modules.api.access." xmlns="http://agavi.org/agavi/config/parts/module/1.0" xmlns:ae="http://agavi.org/agavi/config/global/envelope/1.0">
	<setting name="defaults">
		<ae:parameter name="host">localhost</ae:parameter>
		<ae:parameter name="paths">
			<ae:parameter name="icinga_base">/usr/local/icinga</ae:parameter>
			<ae:parameter name="icinga_objects">%modules.api.defaults.paths.icinga_base%/etc/objects</ae:parameter>
			<ae:parameter name="icinga_rw">%modules.api.defaults.paths.icinga_base%/var/rw</ae:parameter>
			<ae:parameter name="bin">/usr/bin</ae:parameter>
		</ae:parameter>

		<ae:parameter name="access">
			<ae:parameter name="rw">
				<ae:parameter name="folder">%modules.api.defaults.paths.icinga_objects%</ae:parameter>
			</ae:parameter>
			<ae:parameter name="r">
			</ae:parameter>
			<ae:parameter name="w">
				<ae:parameter name="file">$modules.api.defaults.paths.icinga_rw%/icinga.dat</ae:parameter>
			</ae:parameter>
			<ae:parameter name="x">
				<ae:parameter name="file">%modules.api.defaults.paths.icinga_base%/icinga</ae:parameter>
				<ae:parameter name="file">%modules.api.defaults.paths.bin%/echo</ae:parameter>
				<ae:parameter name="file">%modules.api.defaults.paths.bin%/cp</ae:parameter>
			</ae:parameter>
		</ae:parameter>						

	</setting>
	
	<!-- Hosts that can be accessed via the console interface -->
	<setting name="hosts">
		<ae:parameter name="localhost">
			<ae:parameter name="type">local</ae:parameter>
			<!-- Only allow access to these files, folders or executables -->

		</ae:parameter>
		
		<!--  Example for ssh connection with user/password auth -->
		<ae:parameter name="vm_host1">
			<ae:parameter name="type">ssh</ae:parameter>
			<ae:parameter name="ssh">
				<ae:parameter name="host">localhost</ae:parameter>
				<ae:parameter name="port">22222</ae:parameter>
				<ae:parameter name="auth">
					<ae:parameter name="type">password</ae:parameter>
					<ae:parameter name="user">mojadev</ae:parameter>
					<ae:parameter name="password">supersecret</ae:parameter>
				</ae:parameter>
			</ae:parameter> 
			<ae:parameter name="access">
				<ae:parameter name="useDefaults">true</ae:parameter>
				<ae:parameter name="w">
					<ae:parameter name="folder">/usr/local/icinga-web/</ae:parameter>
				</ae:parameter>
			</ae:parameter>	
			
		</ae:parameter>

		<!--  Example for ssh connection with pubkey auth -->					
		<ae:parameter name="vm_host2">
			<ae:parameter name="type">ssh</ae:parameter>
			<ae:parameter name="ssh">
				<ae:parameter name="host">localhost</ae:parameter>
				<ae:parameter name="port">2222</ae:parameter>
				<ae:parameter name="auth">
					<ae:parameter name="type">pubKey</ae:parameter>
					<ae:parameter name="user">mojadev</ae:parameter>
					<ae:parameter name="pubkey">/usr/local/icinga-web/modules/Api/.ssh/host1_id.pub</ae:parameter>
					<ae:parameter name="privKey">/usr/local/icinga-web/modules/Api/.ssh/host1_id</ae:parameter>
					<ae:parameter name="password">supersecret</ae:parameter>
				</ae:parameter>
			</ae:parameter> 
			<ae:parameter name="labels">
				<ae:parameter name="icinga">icinga</ae:parameter>
			</ae:parameter>
			<ae:parameter name="access">
				<ae:parameter name="useDefaults">true</ae:parameter>
			</ae:parameter>	
		</ae:parameter>

	</setting>
</settings>
